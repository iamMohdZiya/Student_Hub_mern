# 🔐 Deployment Credentials Reference

**Keep this secure! These are your deployment credentials for Render.**

## 📋 Environment Variables for Render

Copy these variable names and fill in your actual values in Render dashboard:

### 🗄️ MongoDB Atlas (Required)
```bash
# Database connection - replace with your actual connection string
MONGO_URI=mongodb+srv://studenthub_user:YOUR_PASSWORD@studenthub-cluster.XXXXX.mongodb.net/studenthub?retryWrites=true&w=majority

# Application settings
NODE_ENV=production

# CORS - replace with your actual Render app URL  
CORS_ORIGIN=https://your-app-name.onrender.com
```

### ☁️ Cloudinary (Optional but Recommended)
```bash
# Image handling - replace with your actual Cloudinary credentials
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=123456789012345
CLOUDINARY_API_SECRET=abcdefghijklmnopqrstuvwxyz123456
```

### 🔐 Auto-Generated by Render
```bash
# These are automatically set by Render - don't add them manually
JWT_SECRET=[Auto-generated by Render]
PORT=[Auto-set by Render]
```

---

## 📝 Where to Get These Values

### MongoDB Atlas Connection String
1. Go to [MongoDB Atlas Dashboard](https://cloud.mongodb.com)
2. Click "Connect" on your cluster
3. Choose "Connect your application"
4. Copy the connection string
5. Replace `<password>` with your actual password
6. Add `/studenthub` before the `?` in the URL

**Example:**
```
mongodb+srv://studenthub_user:mySecurePassword123@studenthub-cluster.abc123.mongodb.net/studenthub?retryWrites=true&w=majority
```

### Cloudinary Credentials
1. Go to [Cloudinary Dashboard](https://cloudinary.com/console)
2. Find "Product Environment Credentials" section
3. Copy:
   - **Cloud Name**: Usually something like `dxyz123abc`
   - **API Key**: Usually 15 digits like `123456789012345`
   - **API Secret**: Usually 27 characters like `abcDefGhIjKlMnOpQrStUvWxYz12345`

### CORS Origin
- Replace `your-app-name` with your actual Render app name
- Example: `https://studenthub-production.onrender.com`
- You can update this after deployment with your real URL

---

## 🚀 Render Deployment Steps

### 1. Push to Git
```bash
git add .
git commit -m "Ready for Render deployment"
git push origin main
```

### 2. Deploy on Render
1. Go to [Render Dashboard](https://dashboard.render.com)
2. Click "New +" → "Web Service"
3. Connect your Git repository
4. Render auto-detects `render.yaml`
5. Add the environment variables above
6. Click "Create Web Service"

### 3. Monitor Deployment
- Build takes ~5-10 minutes
- Watch the logs for any errors
- Once deployed, test your app URL

---

## ✅ Deployment Checklist

Before deploying, ensure you have:

### MongoDB Atlas ✓
- [ ] Account created
- [ ] Free cluster created (M0)
- [ ] Database user created (`studenthub_user`)
- [ ] Network access set to "Allow from anywhere" (0.0.0.0/0)
- [ ] Connection string copied and password filled in

### Cloudinary ✓
- [ ] Account created  
- [ ] Cloud Name copied
- [ ] API Key copied
- [ ] API Secret copied
- [ ] Upload presets created (optional)

### Git Repository ✓
- [ ] Code pushed to GitHub/GitLab/Bitbucket
- [ ] Repository accessible to Render
- [ ] All deployment files present (`render.yaml`, etc.)

### Render Account ✓
- [ ] Account created at render.com
- [ ] Git provider connected

---

## 🎯 After Deployment

### 1. Update CORS Origin
After getting your final Render URL:
1. Go to Render dashboard → Your service → Environment
2. Update `CORS_ORIGIN` with your actual URL
3. Example: `https://studenthub-xyz123.onrender.com`

### 2. Create Admin User
**Option A - Register and promote manually:**
1. Visit your app and register a new account
2. Go to MongoDB Atlas → Browse Collections
3. Find your user in `users` collection  
4. Edit: set `"role": "admin"` and `"status": "approved"`

**Option B - If you have admin creation script:**
```bash
# If available in your backend
node scripts/createAdmin.js
```

### 3. Test Your App
- [ ] App loads without errors
- [ ] Health check works: `/health`
- [ ] User registration works
- [ ] User login works
- [ ] Profile creation works
- [ ] Post creation works
- [ ] Image uploads work (if using Cloudinary)
- [ ] Admin dashboard accessible

---

## 🆘 Troubleshooting

### Common Issues

**Build fails:**
- Check `render.yaml` syntax
- Verify `package.json` files are valid
- Check build logs in Render dashboard

**Database connection fails:**
- Verify MongoDB connection string is correct
- Check MongoDB Atlas network access (0.0.0.0/0)
- Ensure password in connection string is correct

**CORS errors:**
- Update `CORS_ORIGIN` with your actual Render URL
- Format: `https://your-app-name.onrender.com`

**Images won't upload:**
- Check Cloudinary credentials
- Verify all three values (Cloud Name, API Key, API Secret)
- Check file size limits

### Getting Help
1. **Check Render logs** first (Dashboard → Your Service → Logs)
2. **Verify environment variables** are set correctly
3. **Test database connection** in MongoDB Atlas
4. **Check file formats** for detailed guides:
   - `MONGODB-ATLAS-SETUP.md`
   - `CLOUDINARY-SETUP.md` 
   - `RENDER-DEPLOYMENT.md`

---

## 🔒 Security Reminders

### Keep These Secret
- ❌ **Never commit** credentials to Git
- ❌ **Never share** API secrets publicly
- ❌ **Never expose** database passwords

### Best Practices
- ✅ Use strong passwords for database users
- ✅ Regularly rotate API keys
- ✅ Monitor usage dashboards
- ✅ Set up usage alerts

---

## 🎉 You're Ready!

Once you have all the credentials filled in above, you're ready to deploy your StudentHub application to Render!

**Your app will be live at:** `https://your-app-name.onrender.com`

Good luck with your deployment! 🚀
